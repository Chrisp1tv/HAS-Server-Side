<ul class="pagination">
    {% if startPage > 1 %}
        <li>
            <a href="{{ path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params')|merge(app.request.query.all|merge({'page':'1'}))) }}">1</a>
        </li>
        {% if startPage > 2 %}
            <li class="pagination-ellipsis">…</li>
        {% endif %}
    {% endif %}
    {% for page in range(startPage, endPage) %}
        {% if page == currentPage %}
            <li class="pagination-active">{{ page }}</li>
        {% else %}
            <li>
                <a href="{{ path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params')|merge(app.request.query.all|merge({'page':page}))) }}">{{ page }}</a>
            </li>
        {% endif %}
    {% endfor %}
    {% if endPage < numberPages %}
        {% if endPage + 1 < numberPages %}
            <li class="pagination-ellipsis">…</li>
        {% endif %}
        <li>
            <a href="{{ path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params')|merge(app.request.query.all|merge({'page':numberPages}))) }}">{{ numberPages }}</a>
        </li>
    {% endif %}
</ul>